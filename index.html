<div class="main-wrapper">
  <div id="slider" class="etalase-slide">
    <div class="slide"><img src="https://via.placeholder.com/300x300?text=1" alt=""></div>
    <div class="slide"><img src="https://via.placeholder.com/300x300?text=2" alt=""></div>
    <div class="slide"><img src="https://via.placeholder.com/300x300?text=3" alt=""></div>
    <div class="slide"><img src="https://via.placeholder.com/300x300?text=4" alt=""></div>
    <div class="slide"><img src="https://via.placeholder.com/300x300?text=5" alt=""></div>
    <div class="slide"><img src="https://via.placeholder.com/300x300?text=6" alt=""></div>
    <div class="slide"><img src="https://via.placeholder.com/300x300?text=7" alt=""></div>
    <div class="slide"><img src="https://via.placeholder.com/300x300?text=8" alt=""></div>
  </div>

  <!-- progress bar -->
  <div class="progress-bar">
    <div id="progress"></div>
  </div>
</div>

<style>
.main-wrapper {
  width: 100%;
  max-width: 1000px;
  margin: auto;
  user-select: none; /* biar teks gak kesorot pas drag */
}

.etalase-slide {
  display: flex;
  gap: 10px;
  overflow-x: auto;
  scroll-behavior: smooth;
  scrollbar-width: none;
  cursor: grab;
}
.etalase-slide::-webkit-scrollbar { display: none; }

.slide {
  flex: 0 0 auto;
  width: 300px;
  height: 300px;
  border-radius: 10px;
  overflow: hidden;
  background: #ccc;
}
.slide img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* progress bar */
.progress-bar {
  margin-top: 12px;
  width: 100%;
  height: 6px;
  background: #ddd;
  border-radius: 4px;
  overflow: hidden;
}
#progress {
  height: 100%;
  width: 0%;
  background: #00ccff;
  transition: width 0.2s ease;
}
</style>

<script>
const slider = document.getElementById("slider");
const progress = document.getElementById("progress");

let isDown = false;
let startX;
let scrollLeft;

// === drag pakai mouse ===
slider.addEventListener("mousedown", (e) => {
  isDown = true;
  slider.classList.add("active");
  startX = e.pageX - slider.offsetLeft;
  scrollLeft = slider.scrollLeft;
});
slider.addEventListener("mouseleave", () => {
  isDown = false;
});
slider.addEventListener("mouseup", () => {
  isDown = false;
});
slider.addEventListener("mousemove", (e) => {
  if (!isDown) return;
  e.preventDefault();
  const x = e.pageX - slider.offsetLeft;
  const walk = (x - startX) * 1; // speed drag
  slider.scrollLeft = scrollLeft - walk;
});

// === update progress bar ===
slider.addEventListener("scroll", () => {
  const scrollLeftNow = slider.scrollLeft;
  const maxScroll = slider.scrollWidth - slider.clientWidth;
  const percent = (scrollLeftNow / maxScroll) * 100;
  progress.style.width = percent + "%";
});
</script>
