<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Shop</title>
    <link rel="stylesheet" href="index.css">

    <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
        href="https://fonts.googleapis.com/css2?family=Caveat:wght@400..700&family=Comic+Relief:wght@400;700&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Oswald:wght@200..700&display=swap"
        rel="stylesheet" />
    <link
        href="https://fonts.googleapis.com/css2?family=Caveat:wght@400..700&family=Comic+Relief:wght@400;700&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Oswald:wght@200..700&family=Winky+Rough:ital,wght@0,300..900;1,300..900&display=swap"
        rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400..700&family=Comic+Relief:wght@400;700&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Oswald:wght@200..700&family=TASA+Explorer:wght@400..800&family=Winky+Rough:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">

</head>

<body>
    <div class="loader-main" id="loaderMain">
        <div class="loader"></div>
    </div>
    <div id="startBox" class="btn-start">
        <div class="col">
            <p>"Begin Your Journey in Style. Only with byGlng."</p>
            <button id="startBtn">Start</button>
        </div>
    </div>
    <div class="overlay" id="overlay">
        <div class="loader"></div>
    </div>
    <script>
        // ===============================
        // animasi loading page index.php
        // ===============================
        const overlay = document.getElementById("overlay");
        const startBox = document.getElementById("startBox");
        const startBtn = document.getElementById("startBtn");

        // -------------------------
        // Loader utama
        // -------------------------
        function showLoader(duration = 3000, callback) {
            const loaderMain = document.getElementById("loaderMain");
            loaderMain.style.display = "block";
            loaderMain.style.opacity = "1";

            setTimeout(() => {
                loaderMain.style.opacity = "0";
                setTimeout(() => {
                    loaderMain.style.display = "none";
                    if (callback) callback();
                }, 500);
            }, duration);
        }

        // -------------------------
        // Overlay & redirect
        // -------------------------
        function showOverlayAndRedirect() {
            startBox.classList.add("fadeOutDown");
            setTimeout(() => startBox.style.display = "none", 800);

            overlay.style.display = "block";
            setTimeout(() => overlay.classList.add("show"), 50);

            setTimeout(() => {
                window.location.href = "page-etalase.html";
            }, 3000);
        }

        // -------------------------
        // Klik tombol start
        // -------------------------
        startBtn.addEventListener("click", () => {
            setTimeout(showOverlayAndRedirect, 500);
        });

        // -------------------------
        // Handle back/forward cache
        // -------------------------
        window.addEventListener("pageshow", function(event) {
            // selalu jalankan overlay & redirect saat balik
            if (event.persisted || performance.getEntriesByType("navigation")[0].type === "back_forward") {
                showOverlayAndRedirect();
            } else {
                showLoader(3000);
            }
        });
    </script>
</body>

</html>